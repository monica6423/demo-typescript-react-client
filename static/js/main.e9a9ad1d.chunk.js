(this["webpackJsonpcrud-app"]=this["webpackJsonpcrud-app"]||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(33),s=n.n(r),i=(n(119),n(120),n(6)),u=n(11),o=n(4),j=n(8),d=n(2),l=function(e,t){switch(t.type){case"FETCH_RESTAURANTS":return Object(d.a)(Object(d.a)({},e),{},{restaurants:Object(j.a)(t.payload)});case"FETCH_COMPANIES":return Object(d.a)(Object(d.a)({},e),{},{companies:Object(j.a)(t.payload)});case"FETCH_PARENT_COMPANIES":return Object(d.a)(Object(d.a)({},e),{},{parentCompanies:Object(j.a)(t.payload)});case"FETCH_STATION_BY_ID":return Object(d.a)(Object(d.a)({},e),{},{restaurant:t.payload});case"FETCH_RESTAURANTS_BY_COMPANY_ID":return Object(d.a)(Object(d.a)({},e),{},{restaurantById:t.payload});case"FETCH_RESTAURANT_TYPE_BY_ID":return Object(d.a)(Object(d.a)({},e),{},{restaurantType:t.payload});case"FETCH_RESTAURANT_TYPES":return Object(d.a)(Object(d.a)({},e),{},{restaurantTypes:t.payload});case"FETCH_COMPANY_BY_ID":return Object(d.a)(Object(d.a)({},e),{},{companyById:t.payload});case"ADD_RESTAURANT":return Object(d.a)(Object(d.a)({},e),{},{restaurants:[t.payload].concat(Object(j.a)(e.restaurants))});case"ADD_COMPANY":return Object(d.a)(Object(d.a)({},e),{},{companies:[t.payload].concat(Object(j.a)(e.companies))});case"ADD_RESTAURANT_TYPES":return Object(d.a)(Object(d.a)({},e),{},{restaurantTypes:[t.payload].concat(Object(j.a)(e.restaurantTypes))});default:return e}},b="http://localhost:3000/dev/api/",p=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"create-company"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"create-restaurant"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"create-restaurant-type"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"get-restaurants"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"get-restaurant?id=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=n(3),m="http://localhost:3000/dev/api/",v={restaurants:[],restaurant:null,createData:function(){},getRestaurant:function(){},getRestaurantById:function(){},editRestaurant:function(){},getRestaurantTypeById:function(){},restaurantType:{id:"",franchiseFee:0,name:""},editRestaurantType:function(){},companies:[],parentCompanies:[],getRestaurantsByCompanyId:function(){},restaurantById:[],restaurantTypes:[],getCompanies:function(){return Promise.resolve()},dispatch:function(){},getCompanyById:function(){},companyById:[],editCompany:function(){}},T=Object(a.createContext)(v),C=function(e){var t=e.children,n=Object(a.useReducer)(l,v),c=Object(o.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){d(),w(!0),w(),C()}),[]);var j=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var a,c,r,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="company"===e.t0?3:"restaurant"===e.t0?8:"restaurantType"===e.t0?14:19;break;case 3:return e.next=5,p(n);case 5:return a=e.sent,s({type:"ADD_COMPANY",payload:a}),e.abrupt("break",20);case 8:return e.next=10,O(n);case 10:return c=e.sent,r={restaurant:c.name,company:c.company.name,restaurantType:c.restaurantType.name,restaurantTypeId:c.restaurantType.id,id:c.id,companyId:c.company.id},s({type:"ADD_RESTAURANT",payload:r}),e.abrupt("break",20);case 14:return e.next=16,h(n);case 16:return u=e.sent,s({type:"ADD_RESTAURANT_TYPES",payload:u}),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,n=t.map((function(e){return{restaurant:e.name,company:e.company.name,restaurantType:e.restaurantType.name,restaurantTypeId:e.restaurantType.id,id:e.id,companyId:e.company.id}})),s({type:"FETCH_RESTAURANTS",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(a.useCallback)(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:n=e.sent,s({type:"FETCH_STATION_BY_ID",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),C=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"get-restaurant-type"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s({type:"FETCH_RESTAURANT_TYPES",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(a.useCallback)(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"get-restaurant-type?id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,s({type:"FETCH_RESTAURANT_TYPE_BY_ID",payload:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),k=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"create-restaurant"),{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"create-restaurant-type"),{method:"post",body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"create-company"),{method:"post",body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,n,a,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],e.next=3,fetch("".concat(m,"get-companies?parent=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t&&s({type:"FETCH_PARENT_COMPANIES",payload:a}),s({type:"FETCH_COMPANIES",payload:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=Object(a.useCallback)(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"get-restaurants-by-companyId?id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,s({type:"FETCH_RESTAURANTS_BY_COMPANY_ID",payload:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),S=Object(a.useCallback)(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"get-company-by-id?id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,s({type:"FETCH_COMPANY_BY_ID",payload:a[0]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(x.jsx)(T.Provider,{value:{restaurants:r.restaurants,restaurant:r.restaurant,createData:j,getRestaurant:d,getRestaurantById:b,editRestaurant:k,getRestaurantTypeById:g,restaurantType:r.restaurantType,editRestaurantType:N,companies:r.companies,parentCompanies:r.parentCompanies,getRestaurantsByCompanyId:R,restaurantById:r.restaurantById,restaurantTypes:r.restaurantTypes,getCompanies:w,getCompanyById:S,companyById:r.companyById,editCompany:I,dispatch:s},children:t})},g=n(9),k=n(30),N=n(1),I=(n(122),n(207)),w=function(){var e=Object(g.l)(),t=Object(g.j)(),n=Object(a.useContext)(T),c=n.getRestaurantById,r=n.restaurant,s=n.editRestaurant,j=n.getRestaurant,l=Object(a.useState)(r),b=Object(o.a)(l,2),p=b[0],O=b[1],h=function(e){e.target.name&&O(Object(d.a)(Object(d.a)({},p),{},Object(N.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){e.id&&c(e.id)}),[e,c]),Object(a.useEffect)((function(){O(r)}),[r]);var f=function(){var e=Object(u.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("e.tartget,"),e.t0=p,!e.t0){e.next=6;break}return e.next=6,s(p);case 6:j(),t("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?Object(x.jsxs)("div",{children:[Object(x.jsxs)("tbody",{className:"editPage",children:[Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Id"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Name"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"CompanyId"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"RestaurantTypeId"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Status"})})]}),Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{id:"".concat(p.id),children:p.id})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",name:"name",value:p.name,onChange:function(e){return h(e)}})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:p.companyId})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",name:"restaurantTypeId",value:p.restaurantTypeId,onChange:function(e){return h(e)}})}),Object(x.jsx)("td",{children:Object(x.jsxs)(I.a.Group,{onChange:h,value:p.status,name:"status",children:[Object(x.jsx)(I.a,{value:"Available",children:"Available"}),Object(x.jsx)(I.a,{value:"TemporaryClose",children:"TemporaryClose"})]})})]},p.id)]}),Object(x.jsx)("div",{className:"button-cell",style:{margin:"auto"},children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"button cancel-button",onClick:function(){return t("/")},children:"Cancel"}),Object(x.jsx)("button",{className:"button save-button",onClick:function(e){return f(e)},children:"Save"})]})})]}):Object(x.jsx)(x.Fragment,{children:"loading"})},R=(n(125),function(){var e=Object(g.l)(),t=Object(g.j)(),n=Object(a.useContext)(T),c=n.getRestaurantTypeById,r=n.restaurantType,s=n.editRestaurantType,j=n.getRestaurant,l=Object(a.useState)(r),b=Object(o.a)(l,2),p=b[0],O=b[1],h=function(e){O(Object(d.a)(Object(d.a)({},p),{},Object(N.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){e.id&&c(e.id)}),[e,c]),Object(a.useEffect)((function(){O(r)}),[r]);var f=function(){var e=Object(u.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.t0=p,!e.t0){e.next=5;break}return e.next=5,s(p);case 5:t("/"),j();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsxs)("tbody",{className:"editPage",children:[Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Id"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Name"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Franchise Fee"})})]}),Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{id:"".concat(p.id),children:p.id})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",name:"name",value:p.name,onChange:function(e){return h(e)}})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",name:"franchiseFee",value:p.franchiseFee,onChange:function(e){return h(e)}})})]},p.id)]}),Object(x.jsx)("div",{className:"button-cell",style:{margin:"auto"},children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"button cancel-button",onClick:function(){return t("/")},children:"Cancel"}),Object(x.jsx)("button",{className:"button save-button",onClick:function(e){return f(e)},children:"Save"})]})})]}):Object(x.jsx)(x.Fragment,{children:"loading"})}),S=(n(126),function(e){var t=e.children,n=e.title,a=e.link,c=e.linkTitle;return Object(x.jsx)("div",{className:"page",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"header",children:Object(x.jsxs)("div",{className:"logo",children:[Object(x.jsx)("h1",{children:n}),Object(x.jsx)("h3",{style:{marginLeft:"auto",marginRight:"1rem"},children:Object(x.jsxs)(k.b,{to:a,children:["Go to ",c," page \u279c "]})})]})}),Object(x.jsx)("div",{className:"container",children:t})]})})}),A=(n(127),function(){var e=Object(a.useContext)(T).parentCompanies;return Object(x.jsx)(S,{title:"Company List",link:"/",linkTitle:"home",children:Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Company Id"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Company name"})})]})}),Object(x.jsx)("tbody",{children:e.map((function(e,t){return Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:Object(x.jsx)(k.b,{to:"/company-list/".concat(e.id),children:e.id})})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:e.name})})]})}))})]})})}),E=(n(91),function(){var e=Object(g.l)(),t=Object(a.useContext)(T),n=t.getRestaurantsByCompanyId,c=t.restaurantById,r=Object(a.useState)(c),s=Object(o.a)(r,2),i=s[0],u=s[1];Object(a.useEffect)((function(){e.id&&n(e.id)}),[e,n]),Object(a.useEffect)((function(){u(c)}),[c]);var j,d=i.find((function(t){return t.companyId===e.id}));return i?Object(x.jsxs)("div",{style:{marginLeft:"3rem"},children:[Object(x.jsx)("h2",{children:d?d.name:""}),Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Restaurant Name (incl. child company's restaurant)"}),Object(x.jsx)("td",{children:"Franchise Fee"}),Object(x.jsx)("td",{children:"State"})]})}),i.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.restaurantType.franchiseFee}),Object(x.jsx)("td",{children:e.status})]})})})})),Object(x.jsxs)("div",{children:["Total Franchise Fee: ",(j=i,j.reduce((function(e,t){return e+t.restaurantType.franchiseFee}),0))]})]}):Object(x.jsx)(x.Fragment,{children:"loading"})}),_=function(){var e=Object(g.l)(),t=Object(g.j)(),n=Object(a.useContext)(T),c=n.getCompanyById,r=n.companyById,s=n.editCompany,j=Object(a.useState)(r),l=Object(o.a)(j,2),b=l[0],p=l[1];Object(a.useEffect)((function(){e.id&&c(e.id)}),[e,c]),Object(a.useEffect)((function(){p(r)}),[r]);var O=function(){var e=Object(u.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.t0=b,!e.t0){e.next=5;break}return e.next=5,s(b);case 5:t("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b?Object(x.jsxs)("div",{children:[Object(x.jsxs)("tbody",{className:"editPage",children:[Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Id"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Name"})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:"Parent Company Id"})})]}),Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{id:"".concat(b.id),children:b.id})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",name:"name",value:b.name,onChange:function(e){return function(e){p(Object(d.a)(Object(d.a)({},b),{},Object(N.a)({},e.target.name,e.target.value)))}(e)}})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:b.parentCompanyId})})]},b.id)]}),Object(x.jsxs)("div",{className:"button-cell",style:{margin:"auto"},children:[Object(x.jsx)("button",{className:"button cancel-button",onClick:function(){return t("/")},children:"Cancel"}),Object(x.jsx)("button",{className:"button save-button",onClick:function(e){return O(e)},children:"Save"})]})]}):Object(x.jsx)(x.Fragment,{children:"loading"})},F=n(208),P=(n(128),{name:{key:"restaurant",label:"Restaurant (click to edit)"},email:{key:"restaurantType",label:"Restaurant Type (click to edit)"},phone:{key:"company",label:"Company"}}),B={restaurant:{name:{key:"name",label:"Restaurant Name"},companyId:{key:"companyId",label:"Company Id",dropdown:"companies"},restaurantTypeId:{key:"restaurantTypeId",label:"Restaurant Type Id",dropdown:"restaurantTypes"},status:{key:"status",label:"TemporaryClose/Available",checkbox:"status"}},restaurantType:{name:{key:"name",label:"Restaurant Type"},franchiseFee:{key:"franchiseFee",label:"FranchiseFee"}},company:{name:{key:"name",label:"Comapany Name"},parentCompanyId:{key:"parentCompanyId",label:"Parent Company Id (If this is a parent company, leave it blank)"}}},D=n(206),Y=function(e){return e.reduce((function(e,t){return e[t]="",e}),{})},H=function(e){var t=e.formType,n=Object(a.useContext)(T),c=n.createData,r=n.companies,s=n.restaurantTypes,j=Object(a.useState)({}),l=Object(o.a)(j,2),b=l[0],p=l[1],O=Object(a.useState)({}),h=Object(o.a)(O,2),f=h[0],y=h[1],m=Object(a.useState)([]),v=Object(o.a)(m,2),C=v[0],g=v[1];Object(a.useEffect)((function(){var e=t?B[t]:{},n=t?Object.keys(B[t]):[];y(e),g(n),p(Y(n))}),[t]);var k=function(e){var t;e.target.name&&p(Object(d.a)(Object(d.a)({},b),{},(t={},Object(N.a)(t,e.target.name,e.target.value),Object(N.a)(t,"id",Object(F.a)()),t)))},w=function(e,t){var n;p(Object(d.a)(Object(d.a)({},b),{},(n={},Object(N.a)(n,t,e),Object(N.a)(n,"id",Object(F.a)()),n)))},R=function(e){var t=function(e){return e.map((function(e){return{value:e.id,label:e.name}}))};return"companies"===e?t(r):"restaurantTypes"===e?t(s):[]},S=function(e,t,n){return e.dropdown?Object(x.jsx)("div",{children:Object(x.jsx)(D.a,{defaultValue:e.key,style:{width:180},onChange:function(t){return w(t,e.key)},options:R(e.dropdown)})}):e.checkbox?Object(x.jsxs)(I.a.Group,{onChange:k,value:t.status,name:e.key,children:[Object(x.jsx)(I.a,{value:"Available",children:"Available"}),Object(x.jsx)(I.a,{value:"TemporaryClose",children:"TemporaryClose"})]}):Object(x.jsx)("input",{type:"text",name:e.key,value:t[n],onChange:function(e){return k(e)},placeholder:e.label})},A=function(){var e=Object(u.a)(Object(i.a)().mark((function e(n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t&&c(t,b),p(Y(C));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[t&&C.map((function(e,t){var n=f[e];return Object(x.jsx)("td",{children:S(n,b,e)},t)})),Object(x.jsx)("td",{className:"button-cell",children:t&&Object(x.jsx)("button",{className:"button",onClick:function(e){return A(e)},children:"Create"})})]})})},M=(n(196),function(){var e=Object(a.useContext)(T).dispatch,t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),j=Object(o.a)(s,2),d=j[0],l=j[1],b=Object(a.useState)(""),p=Object(o.a)(b,2),O=p[0],h=p[1],f=function(e){l(e)},y=function(){var t=Object(u.a)(Object(i.a)().mark((function t(n){var a,c,r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/dev/api/get-restaurants?searchValue=".concat(n));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,r=c.map((function(e){return{restaurant:e.name,company:e.company.name,restaurantType:e.restaurantType.name,restaurantTypeId:e.restaurantType.id,id:e.id,companyId:e.company.id}})),e({type:"FETCH_RESTAURANTS",payload:r});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=Object(a.useMemo)((function(){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];t&&clearTimeout(t),t=setTimeout((function(){t=null,e.apply(void 0,c)}),n)}}(y,1e3)}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"button-cell ",children:[Object(x.jsx)("button",{className:"button main",onClick:function(){return r(!c)},children:Object(x.jsx)("b",{children:"Create new"})}),Object(x.jsx)("td",{className:"search-box",children:Object(x.jsx)("input",{type:"text",name:"inputField.key",value:O,onChange:function(e){return function(e){h(e.target.value),m(e.target.value)}(e)},placeholder:"Search by restaurant, company & type"})})]}),c&&Object(x.jsxs)("div",{className:"flex button-cell create-new",children:[Object(x.jsx)("button",{className:"button ",onClick:function(e){return f("restaurant")},children:"Restaurant"}),Object(x.jsx)("button",{className:"button ",onClick:function(e){return f("restaurantType")},children:"Restaurant Type"}),Object(x.jsx)("button",{className:"button ",onClick:function(){return f("company")},children:"Company"})]})]}),c&&d&&Object(x.jsx)("table",{children:Object(x.jsx)("tbody",{children:Object(x.jsx)(H,{formType:d})})})]})}),U=(n(197),n(198),function(e){var t=e.restaurant,n=void 0===t?{company:"",restaurant:"",restaurantType:"",id:"",companyId:""}:t;return Object(x.jsxs)("tr",{className:"list",children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:Object(x.jsx)(k.b,{to:"/restaurant/".concat(n.id),children:n.restaurant})})}),Object(x.jsx)("td",{children:Object(x.jsx)("div",{children:Object(x.jsx)(k.b,{to:"/restaurant-type/".concat(n.restaurantTypeId),children:n.restaurantType})})}),Object(x.jsx)("td",{children:Object(x.jsx)(k.b,{to:"/company/".concat(n.companyId),children:n.company})})]},n.id)}),J=n(209),L=n(210),G=(n(199),function(e){var t=e.totalPages,n=e.currentPage,a=e.setCurrentPage;return Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsx)("button",{className:"pagination-button previous-button","data-testid":"previous-button",onClick:function(){n>1&&a(n-1)},disabled:1===n,children:Object(x.jsx)(J.a,{})}),Object(x.jsxs)("div",{className:"current-page","data-testid":"current-page",children:["Page ",n," / ",t]}),Object(x.jsx)("button",{className:"pagination-button next-button","data-testid":"next-button",onClick:function(){n<t&&a(n+1)},disabled:n===t,children:Object(x.jsx)(L.a,{})})]})}),V=function(){var e=Object(a.useContext)(T).restaurants,t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(1),i=Object(o.a)(s,2),u=i[0],j=i[1],d=Math.ceil(c.length/6),l=c.slice(6*(u-1),6*u);return Object(a.useEffect)((function(){r(e)}),[e]),Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:Object.keys(P).map((function(e,t){return Object(x.jsx)("th",{children:Object(x.jsx)("div",{children:P[e].label})},t)}))})}),Object(x.jsxs)("tbody",{children:[l.map((function(e){return Object(x.jsx)(U,{restaurant:e})})),Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:3,children:Object(x.jsx)(G,{totalPages:d,currentPage:u,setCurrentPage:j})})})]})]})},q=function(){return Object(x.jsxs)(S,{title:"Carbonara Demo App",link:"/company-list",linkTitle:"parent compant list",children:[Object(x.jsx)(M,{}),Object(x.jsx)(V,{})]})},z=function(){return Object(g.n)([{path:"/",element:Object(x.jsx)(q,{})},{path:"restaurant/:id",element:Object(x.jsx)(w,{})},{path:"restaurant-type/:id",element:Object(x.jsx)(R,{})},{path:"company-list",element:Object(x.jsx)(A,{})},{path:"company-list/:id",element:Object(x.jsx)(E,{})},{path:"company/:id",element:Object(x.jsx)(_,{})}])},K=function(){return Object(x.jsx)(k.a,{basename:"/",children:Object(x.jsx)(C,{children:Object(x.jsx)(z,{})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(K,{})}),document.getElementById("root")),Q()},91:function(e,t,n){}},[[200,1,2]]]);
//# sourceMappingURL=main.e9a9ad1d.chunk.js.map